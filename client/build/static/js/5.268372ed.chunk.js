(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{151:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return J}));var n=a(101),i=a(67),r=a.n(i),s=a(69),c=a(47),o=a(48),l=a(100),u=a(0),d=a(1),p=a(96),m=a.n(p),j=a(95),b=a.n(j),x=a(92),g=a.n(x),v=a(70),h=a.n(v),O=a(87),f=a.n(O),y=a(149);function w(e){return Object(u.jsx)(y.a,Object(o.a)({elevation:4,variant:"filled"},e))}function k(e){var t=e.errors,a=Object.keys(t).map((function(e,a){return Object(u.jsx)(w,{severity:"warning",style:{marginTop:"8px"},children:t[e]},a)}));return Object(u.jsx)("div",{children:a})}var C=Object(d.memo)(k),I=a(137),E=Object(I.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"25ch"},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}})),D=a(147),N=a(143),A=a(144);var L=function(e){var t=e.formErrors,a=e.values,n=e.handleInputChange,i=e.addReminder,r=E();return Object(u.jsxs)("form",{className:r.root,autoComplete:"off",children:[Object(u.jsx)(C,{errors:t}),Object(u.jsxs)(N.a,{container:!0,direction:"column",justify:"space-evenly",alignItems:"center",children:[Object(u.jsx)("h1",{children:"It's time to leave !"}),Object(u.jsxs)(N.a,{item:!0,xs:12,className:r.paper,children:[Object(u.jsx)(D.a,{id:"slatitude",type:"text",label:"source Lat",onChange:n,value:a.slatitude,style:{margin:"10px"},variant:"outlined"}),Object(u.jsx)(D.a,{id:"slongitude",type:"text",label:"source Long",onChange:n,value:a.slongitude,style:{margin:"10px"},variant:"outlined"})]}),Object(u.jsxs)(N.a,{item:!0,xs:12,className:r.paper,children:[Object(u.jsx)(D.a,{id:"dlatitude",type:"text",label:"Destination Lat",onChange:n,value:a.dlatitude,style:{margin:"10px"},variant:"outlined"}),Object(u.jsx)(D.a,{id:"dlongitude",type:"text",label:"Destination Long",onChange:n,value:a.dlongitude,style:{margin:"10px"},variant:"outlined"})]}),Object(u.jsxs)(N.a,{item:!0,xs:12,className:r.paper,children:[Object(u.jsx)(D.a,{id:"email",type:"email",label:"Email",variant:"outlined",onChange:n,style:{margin:"10px"},value:a.email}),Object(u.jsx)(D.a,{id:"time",label:"Time",type:"time",variant:"outlined",onChange:n,value:a.time,className:r.textField,style:{margin:"10px"},InputLabelProps:{shrink:!0},inputProps:{step:300}})]}),Object(u.jsx)(N.a,{item:!0,xs:12,className:r.paper,children:Object(u.jsx)(A.a,{onClick:i,variant:"outlined",size:"medium",color:"primary",children:"Remind Me"})})]})]})},R=a(145);function S(e){var t=e.reminderDetails,a=t.map((function(e,t){console.log(e);var a="[".concat(e.time,"] - Requested MAP API for (").concat(e.email,")");return Object(u.jsx)(R.a,{message:a,style:{margin:"10px",padding:"15px",borderRadius:"20px",backgroundColor:"#1DB954",fontFamily:"'Josefin Sans', sans-serif",fontSize:"17px"}},t)}));return Object(u.jsxs)("div",{className:"Details",children:[t.length?Object(u.jsx)("h1",{children:"REMINDER DETAILS:"}):"",a]})}var P=Object(d.memo)(S);function J(){var e=Object(d.useState)({slatitude:"",slongitude:"",dlatitude:"",dlongitude:"",email:"",time:"00:00"}),t=Object(l.a)(e,2),a=t[0],i=t[1],p=Object(d.useState)({}),j=Object(l.a)(p,2),x=j[0],v=j[1],O=Object(d.useState)([]),y=Object(l.a)(O,2),w=y[0],k=y[1],C=function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,i,s,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.slatitude,n=a.slongitude,i=a.dlatitude,s=a.dlongitude,c=a.email,console.log(t),t=g()(t),n=g()(n),i=g()(i),s=g()(s),o={},b()("".concat(t,", ").concat(n))||(o.source="Please enter valid source lat and long"),b()("".concat(i,", ").concat(s))||(o.destination="Please enter valid destination lat and long"),m()(c)||(o.email="Please enter a valid Email Address"),e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(r.a.mark((function e(){var t,n,i,s,c,o,l,u,d,p,m,j,b,x,g,v,O,y,w;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.slatitude,n=a.slongitude,i=a.dlatitude,s=a.dlongitude,c=a.email,o=a.time,e.prev=1,e.next=4,h.a.get("/maps/api/distancematrix/json?units=imperial&origins=".concat(t,",").concat(n,"&destinations=").concat(i,",").concat(s,"&key=").concat("AIzaSyAW8v9wOOvEviACg4YbowQEQn0SLplfOJM"));case 4:return l=e.sent,e.next=7,l;case 7:if(u=e.sent,d=u.data,"OK"!==d.rows[0].elements[0].status){e.next=24;break}p=o.split(":"),m=parseInt(p[0]),j=parseInt(p[1]),b=d.rows[0].elements[0].duration.value,x=f.a.duration(b,"seconds"),g=x._data.hours,v=x._data.minutes,O=f()().set({hour:m,minute:j}).subtract({hours:g,minutes:v}),y=O.hour(),w=O.minutes();try{h.a.post("http://localhost:5000/api/add",{email:c,t1:y,t2:w})}catch(r){console.error(r)}e.next=25;break;case 24:throw new Error("This destination is out of bounds");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(1),alert(e.t0);case 30:case"end":return e.stop()}}),e,null,[[1,27]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(s.a)(r.a.mark((function e(t){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C();case 3:i=e.sent,0===Object.keys(i).length?(k((function(e){return[].concat(Object(n.a)(e),[[a.time,a.email]])})),v({}),I()):v(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"Container",children:[Object(u.jsx)(L,{formErrors:x,values:a,handleInputChange:function(e){var t=e.target,n=t.id,r=t.value;i(Object(o.a)(Object(o.a)({},a),{},Object(c.a)({},n,r)))},addReminder:E}),Object(u.jsx)(P,{reminderDetails:w})]})}a(89).config()}}]);
//# sourceMappingURL=5.268372ed.chunk.js.map